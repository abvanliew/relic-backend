{"options":{"viewOn":"skills","pipeline":[{"$lookup":{"from":"actionTypes","localField":"action.typeId","foreignField":"_id","as":"action.typeObj"}},{"$unwind":"$action.typeObj"},{"$lookup":{"from":"trainingCosts","localField":"trainingCostId","foreignField":"_id","as":"trainingCostObj"}},{"$unwind":"$trainingCostObj"},{"$set":{"trainingCost":"$trainingCostObj.title","order.trainingCost":"$trainingCostObj.order","action.type":"$action.typeObj.title"}},{"$unset":["action.typeObj","trainingCostObj"]},{"$sort":{"tier":{"$numberInt":"1"},"order.category":{"$numberInt":"1"},"order.trainingCost":{"$numberInt":"1"},"action.manaCost":{"$numberInt":"1"},"title":{"$numberInt":"1"}}}]},"indexes":[],"collectionName":"skills_joined","type":"view"}